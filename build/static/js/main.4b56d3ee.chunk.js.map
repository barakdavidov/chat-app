{"version":3,"sources":["util/firebase.config.js","components/InfoContext.js","components/Chatter.js","util/isValidLength.js","components/Favorite.js","components/Message.js","components/Messages.js","images/logo.jpg","images/placeholder.jpeg","components/NavBar.js","components/Profile.js","util/server.js","components/Signup.js","components/Login.js","components/Authenticated.js","App.js","index.js"],"names":["googleProvider","GoogleAuthProvider","AuthContext","createContext","AuthContextProvider","props","useState","user","setUser","error","setError","useEffect","unsubscribe","onAuthStateChanged","getAuth","Provider","value","useAuthState","auth","useContext","isAuthenticated","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getFirestore","storage","getStorage","getUser","uid","a","q","query","collection","where","getDocs","docs","data","getCurrentUser","currentUser","updateUsername","username","updateDoc","ref","loginWithEmailAndPassword","email","password","signInWithEmailAndPassword","res","alert","message","signUpWithEmailAndPassword","createUserWithEmailAndPassword","addDoc","authProvider","loginWithGoogle","signInWithPopup","size","displayName","logout","signOut","getAnotherProfilePic","Promise","resolve","reject","profileFileId","profile","storageRef","getDownloadURL","then","downloadUrl","catch","e","getProfilePic","InfoContext","inAddingProcess","messages","getTweets","addNewTweet","signUpUser","logInUser","Chatter","context","content","setContent","submitDisabled","setSubmitDisabled","React","userName","setUserName","effect","handleSubmit","preventDefault","trim","date","Date","now","toISOString","authorId","component","noValidate","autoComplete","onSubmit","FormControl","style","marginTop","sx","width","TextField","id","multiline","rows","onChange","str","len","cleanMsg","target","trimStart","replace","length","InputProps","endAdornment","CircularProgress","Button","alignSelf","type","disabled","variant","endIcon","Alert","severity","Favorite","liked","setLiked","handleClick","color","red","onClick","Message","setUsername","backgroundColor","height","display","flexDirection","margin","borderRadius","justifyContent","authorAvatar","src","alt","marginLeft","alignItems","Messages","isLoading","setIsLoading","theMessages","setMessages","slice","loader","useRef","loadMore","useCallback","entries","isIntersecting","setTimeout","more","combined","observer","IntersectionObserver","root","rootMargin","threshold","current","observe","unobserve","maxWidth","Array","isArray","sort","b","createdAt","map","textAlign","useStyles","makeStyles","theme","logo","cursor","link","textDecoration","fontSize","fontWeight","spacing","borderBottom","navlinks","NavBar","classes","url","setUrl","safeUrl","placeholder","pic","AppBar","position","CssBaseline","Toolbar","className","to","Profile","imageFile","setImagefile","imageURL","setImageURL","isUploading","setIsUploading","imgURL","required","label","defaultValue","image","files","file","cb","name","uploadTask","uploadBytesResumable","on","snapshot","progress","bytesTransferred","totalBytes","console","log","state","downloadURL","uploadToFireBase","addTweet","tweet","docRef","Signup","setEmail","setPassword","confirmPassword","setConfirmPassword","errors","setErrors","loading","setLoading","handleChange","event","input","empty","inputs","prevErrors","Grid","container","item","sm","Typography","helperText","fullWidth","general","Login","navigate","useNavigate","loggedUser","AuthenticatedRoute","App","setInAddingProcess","setIsloading","orderBy","unsub","onSnapshot","querySnapshot","forEach","doc","push","all","msg","profileImageUrl","newTweet","exact","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4b56d3ee.chunk.js","sourcesContent":["import { createContext, useContext, useEffect, useState } from \"react\";\nimport { initializeApp } from \"firebase/app\";\nimport {\n  getDownloadURL,\n  getStorage,\n  ref,\n  uploadBytesResumable,\n} from \"firebase/storage\";\nimport {\n  collection,\n  getFirestore,\n  addDoc,\n  query,\n  where,\n  updateDoc,\n  getDocs,\n} from \"firebase/firestore\";\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n  GoogleAuthProvider,\n  signInWithPopup,\n} from \"firebase/auth\";\n\n// Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyA5qu9oLw3V9p8l67Ua9fwTBl5RyBCPDeU\",\n  authDomain: \"monkey-chat-2021.firebaseapp.com\",\n  projectId: \"monkey-chat-2021\",\n  storageBucket: \"monkey-chat-2021.appspot.com\",\n  messagingSenderId: \"692820386600\",\n  appId: \"1:692820386600:web:720acb0a6dc785e966261d\",\n  measurementId: \"G-852VN0L3RP\",\n};\n\nconst googleProvider = new GoogleAuthProvider();\n\nconst AuthContext = createContext();\n\nconst AuthContextProvider = (props) => {\n  const [user, setUser] = useState();\n  const [error, setError] = useState();\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(getAuth(), setUser, setError);\n    return () => unsubscribe();\n  }, []);\n\n  return <AuthContext.Provider value={{ user, error }} {...props} />;\n};\n\nconst useAuthState = () => {\n  const auth = useContext(AuthContext);\n  return { ...auth, isAuthenticated: auth?.user != null };\n};\n\n// Initialize Firebase\ninitializeApp(firebaseConfig);\nconst db = getFirestore();\nconst auth = getAuth();\nconst storage = getStorage();\n\nasync function getUser(uid) {\n  const q = query(collection(db, \"users\"), where(\"uid\", \"==\", uid));\n  const { docs } = await getDocs(q);\n  return docs[0].data();\n}\n\nasync function getCurrentUser() {\n  const q = query(\n    collection(db, \"users\"),\n    where(\"uid\", \"==\", getAuth().currentUser.uid)\n  );\n  const { docs } = await getDocs(q);\n  return docs[0].data();\n}\n\nasync function updateUsername(username) {\n  const q = query(\n    collection(db, \"users\"),\n    where(\"uid\", \"==\", getAuth().currentUser.uid)\n  );\n  const { docs } = await getDocs(q);\n\n  updateDoc(docs[0].ref, {\n    username,\n  });\n}\n\nconst loginWithEmailAndPassword = async (email, password) => {\n  try {\n    const res = await signInWithEmailAndPassword(auth, email, password);\n    return res.user;\n  } catch (err) {\n    alert(err.message);\n    return null;\n  }\n};\n\nconst signUpWithEmailAndPassword = async ({ username, email, password }) => {\n  try {\n    const res = await createUserWithEmailAndPassword(auth, email, password);\n    const user = res.user;\n\n    await addDoc(collection(db, \"users\"), {\n      uid: user.uid,\n      username,\n      email,\n      authProvider: \"local\",\n    });\n    return true;\n  } catch (err) {\n    alert(err.message);\n    return false;\n  }\n};\n\nconst loginWithGoogle = async () => {\n  try {\n    const res = await signInWithPopup(auth, googleProvider);\n    const user = res.user;\n\n    const q = query(collection(db, \"users\"), where(\"uid\", \"==\", user.uid));\n    const docSnapShot = await getDocs(q);\n\n    if (docSnapShot.size === 0) {\n      await addDoc(collection(db, \"users\"), {\n        uid: user.uid,\n        username: user.displayName,\n        email: user.email,\n        authProvider: \"google\",\n      });\n    }\n  } catch (err) {\n    alert(err.message);\n  }\n};\n\nconst logout = async () => {\n  await getAuth().signOut();\n};\n\n// to set profile picture\nconst uploadToFireBase = (file, cb) => {\n  const storageRef = ref(storage, `/images/${file.name}`);\n  const uploadTask = uploadBytesResumable(storageRef, file);\n\n  uploadTask.on(\n    \"state_changed\",\n    (snapshot) => {\n      // Observe state change events such as progress, pause, and resume\n      // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n      const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n      console.log(\"Upload is \" + progress + \"% done\");\n      switch (snapshot.state) {\n        case \"paused\":\n          console.log(\"Upload is paused\");\n          break;\n        case \"running\":\n          console.log(\"Upload is running\");\n          break;\n        default:\n          console.log(\"\");\n      }\n    },\n    (error) => {\n      // Handle unsuccessful uploads\n    },\n    // on complete\n    async () => {\n      const q = query(\n        collection(db, \"users\"),\n        where(\"uid\", \"==\", getAuth().currentUser.uid)\n      );\n      const { docs } = await getDocs(q);\n\n      updateDoc(docs[0].ref, {\n        profile: file.name,\n      });\n\n      getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\n        // download URl is the public location  of the uploaded file\n\n        // TODO:: save the downloadURl to the user doc\n\n        cb(downloadURL);\n      });\n    }\n  );\n};\n\n// to get another profile picture\nconst getAnotherProfilePic = (uid) =>\n  new Promise(async (resolve, reject) => {\n    const q = query(collection(db, \"users\"), where(\"uid\", \"==\", uid));\n    const { docs } = await getDocs(q);\n\n    const profileFileId = docs[0].data().profile;\n    if (!profileFileId) {\n      return resolve(null);\n    }\n\n    const storageRef = ref(storage, `/images/${profileFileId}`);\n\n    getDownloadURL(storageRef)\n      .then((downloadUrl) => {\n        resolve(downloadUrl);\n      })\n      .catch((e) => reject(e));\n  });\n\n// to get profile picture\nconst getProfilePic = () =>\n  new Promise(async (resolve, reject) => {\n    const { currentUser } = getAuth();\n    return getAnotherProfilePic(currentUser.uid).then(resolve).catch(reject);\n  });\n\nexport {\n  db,\n  auth,\n  logout,\n  loginWithEmailAndPassword,\n  loginWithGoogle,\n  signUpWithEmailAndPassword,\n  useAuthState,\n  AuthContext,\n  AuthContextProvider,\n  uploadToFireBase,\n  getAnotherProfilePic,\n  getProfilePic,\n  updateUsername,\n  getCurrentUser,\n  getUser,\n};\n","import { createContext } from \"react\";\n\nconst InfoContext = createContext({\n  inAddingProcess: false,\n  messages: [],\n  getTweets: () => {},\n  addNewTweet: () => {},\n  signUpUser: () => {},\n  logInUser: () => {},\n});\n\nexport default InfoContext;\n","import React from \"react\";\nimport { useState, useContext } from \"react\";\nimport { getCurrentUser } from \"../util/firebase.config\";\n\nimport TextField from \"@mui/material/TextField\";\nimport Alert from \"@mui/material/Alert\";\nimport Button from \"@mui/material/Button\";\nimport SendIcon from \"@mui/icons-material/Send\";\n\nimport FormControl from \"@mui/material/FormControl\";\nimport { isValidLength } from \"../util\";\nimport InfoContext from \"./InfoContext\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\n\nimport { getAuth } from \"firebase/auth\";\n\nexport default function Chatter() {\n  const context = useContext(InfoContext);\n\n  // State for tweet content\n  const [content, setContent] = useState(\"\");\n\n  // State for tweet validation(between 1 and 140 chars)\n  const [submitDisabled, setSubmitDisabled] = useState(true);\n\n  // Error message flag only if needed\n  const [error, setError] = useState(false);\n\n  const [userName, setUserName] = React.useState();\n  React.useEffect(() => {\n    async function effect() {\n      const currentUser = await getCurrentUser();\n      setUserName(currentUser.username);\n    }\n\n    effect();\n  }, []);\n\n  // Saves the tweet text as you write it, also updates the\n  // message validation\n  const handleChange = ({ target }) => {\n    // (remove any whitespace from start and remove newlines from end)\n    let cleanMsg = target.value.trimStart().replace(/\\n$/, \"\");\n\n    setContent(cleanMsg);\n\n    setSubmitDisabled(!isValidLength(cleanMsg, 140));\n\n    setError(cleanMsg.length > 140);\n  };\n\n  // Once button is clicked, add tweet\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const currentUser = getAuth().currentUser;\n\n    context.addNewTweet({\n      userName,\n      content: content.trim(),\n      date: new Date(Date.now()).toISOString(),\n      authorId: currentUser.uid,\n    });\n\n    // Reset the chatter state\n    setContent(\"\");\n    setSubmitDisabled(true);\n    setError(false);\n  };\n\n  return (\n    <form\n      component=\"form\"\n      noValidate\n      autoComplete=\"off\"\n      onSubmit={handleSubmit}\n    >\n      <FormControl style={{ marginTop: \"30px\" }} sx={{ width: \"130%\" }}>\n        <TextField\n          id=\"outlined-multiline-static\"\n          multiline\n          rows={5}\n          onChange={handleChange}\n          value={content}\n          InputProps={{\n            endAdornment: (context.inAddingProcess && <CircularProgress />) || (\n              <Button\n                style={{ alignSelf: \"flex-end\" }}\n                type=\"submit\"\n                disabled={submitDisabled}\n                variant=\"contained\"\n                endIcon={<SendIcon />}\n              >\n                Send\n              </Button>\n            ),\n          }}\n        />\n        <Alert severity={(error && \"error\") || \"primary\"}>\n          {content.length} characters\n        </Alert>\n      </FormControl>\n    </form>\n  );\n}\n","export const isValidLength = (str, len) => {\n  if (str.length >= 1 && str.length <= len) return true;\n  return false;\n};\n","import React, { useState } from \"react\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport FavoriteBorderIcon from \"@mui/icons-material/FavoriteBorder\";\nimport { red } from \"@mui/material/colors\";\n\nexport default function Favorite(id) {\n  // FUTURE FEATURE COMMENTS\n  // To interact with the table on the database\n  // the initialState could be something like entryExistsOnLikesTable({userID: user.id, messageID: id})\n  const [liked, setLiked] = useState(false);\n  const handleClick = () => {\n    // toggleLike(id);\n    setLiked(!liked);\n  };\n  return (\n    (liked && (\n      <FavoriteIcon sx={{ color: red[500] }} onClick={handleClick} />\n    )) || <FavoriteBorderIcon sx={{ color: red[500] }} onClick={handleClick} />\n  );\n}\n","import React from \"react\";\nimport Button from \"@mui/material/Button\";\nimport Favorite from \"./Favorite\";\nimport { getUser } from \"../util/firebase.config\";\n\nexport default function Message({ message }) {\n  const [username, setUsername] = React.useState();\n  React.useEffect(() => {\n    async function effect() {\n      const user = await getUser(message.authorId);\n\n      setUsername(user.username);\n    }\n\n    effect();\n  }, [message.authorId]);\n\n  return (\n    <div\n      key={message.id}\n      style={{\n        backgroundColor: \"#c6cbc6\",\n        height: \"100%\",\n        width: \"50%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignSelf: \"center\",\n        margin: 15,\n        borderRadius: \"4px\",\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          margin: \"10px 10px 0 10px\",\n        }}\n      >\n        <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n          <div>\n            {message.authorAvatar && (\n              <img\n                style={{\n                  width: \"45px\",\n                  height: \"45px\",\n                  borderRadius: \"50%\",\n                }}\n                src={message.authorAvatar}\n                alt=\"profile\"\n              />\n            )}\n          </div>\n          <div>\n            <p style={{ color: \"white\", marginLeft: 15 }}>{username}</p>\n          </div>\n        </div>\n        <div>\n          <p style={{ color: \"white\" }}>\n            {new Date(message.date).toISOString()}\n          </p>\n        </div>\n      </div>\n      <div>\n        <p style={{ color: \"white\", marginLeft: 15 }}>{message.content}</p>\n      </div>\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          margin: \"0px 15px 10px 15px\",\n        }}\n      >\n        <div>\n          <Favorite />\n        </div>\n        <div>\n          <Button size=\"small\">Share</Button>\n        </div>\n        <div>\n          <Button size=\"small\">Follow</Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// export default class Message extends React.Component {\n//   constructor({ message }) {\n//     super(message);\n//     this.state = {};\n//   }\n\n//   async getUsername() {\n//     console.log(\"authorId test:\", this.props.message.authorId);\n//     const user = await getUser(this.props.message.authorId);\n//     this.setState({ username: user.username });\n//   }\n\n//   render() {\n//     const { message } = this.props;\n//     const { username } = this.state;\n//     // const { userName: username } = message;\n//     !username && this.getUsername();\n//     return (\n//       <div\n//         key={message.id}\n//         style={{\n//           backgroundColor: \"#c6cbc6\",\n//           height: \"100%\",\n//           width: \"50%\",\n//           display: \"flex\",\n//           flexDirection: \"column\",\n//           alignSelf: \"center\",\n//           margin: 15,\n//           borderRadius: \"4px\",\n//         }}\n//       >\n//         <div\n//           style={{\n//             display: \"flex\",\n//             flexDirection: \"row\",\n//             justifyContent: \"space-between\",\n//             margin: \"10px 10px 0 10px\",\n//           }}\n//         >\n//           <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n//             <div>\n//               {message.authorAvatar && (\n//                 <img\n//                   style={{\n//                     width: \"45px\",\n//                     height: \"45px\",\n//                     borderRadius: \"50%\",\n//                   }}\n//                   src={message.authorAvatar}\n//                   alt=\"profile\"\n//                 />\n//               )}\n//             </div>\n//             <div>\n//               <p style={{ color: \"white\", marginLeft: 15 }}>{username}</p>\n//             </div>\n//           </div>\n//           <div>\n//             <p style={{ color: \"white\" }}>\n//               {new Date(message.date).toISOString()}\n//             </p>\n//           </div>\n//         </div>\n//         <div>\n//           <p style={{ color: \"white\", marginLeft: 15 }}>{message.content}</p>\n//         </div>\n//         <div\n//           style={{\n//             display: \"flex\",\n//             flexDirection: \"row\",\n//             alignItems: \"center\",\n//             justifyContent: \"space-between\",\n//             margin: \"0px 15px 10px 15px\",\n//           }}\n//         >\n//           <div>\n//             <Favorite id={message.id} />\n//           </div>\n//           <div>\n//             <Button size=\"small\">Share</Button>\n//           </div>\n//           <div>\n//             <Button size=\"small\">Follow</Button>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { useContext } from \"react\";\nimport InfoContext from \"./InfoContext\";\nimport Message from \"./Message\";\n\nexport default function Messages() {\n  const [isLoading, setIsLoading] = useState(false);\n  const { messages } = useContext(InfoContext);\n\n  const [theMessages, setMessages] = useState([]);\n\n  useEffect(() => {\n    setMessages(messages.slice(0, 10));\n  }, []);\n\n  const loader = useRef(null);\n\n  const loadMore = useCallback(\n    (entries) => {\n      const target = entries[0];\n\n      if (target.isIntersecting && !isLoading) {\n        setIsLoading(true);\n        setTimeout(function () {\n          const more = messages.slice(\n            theMessages.length,\n            theMessages.length + 10\n          );\n          const combined = [...theMessages, ...more];\n\n          setIsLoading(false);\n          setMessages(combined);\n        }, 1000);\n      }\n    },\n    [messages, theMessages.length]\n  );\n\n  useEffect(() => {\n    const options = {\n      root: null, // window by default\n      rootMargin: \"10px\",\n      threshold: 0.25,\n    };\n\n    const observer = new IntersectionObserver(loadMore, options);\n\n    if (loader && loader.current) {\n      observer.observe(loader.current);\n    }\n\n    return () => {\n      if (loader && loader.current) {\n        observer.unobserve(loader.current);\n      }\n    };\n  }, [loader, loadMore]);\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-between\",\n        width: 960,\n        maxWidth: \"100%\",\n      }}\n    >\n      {Array.isArray(theMessages) &&\n        [...theMessages]\n          .sort((a, b) => b.createdAt - a.createdAt)\n          .map((message) => {\n            return <Message message={message} />;\n          })}\n      <div ref={loader} style={{ textAlign: \"center\" }}>\n        {isLoading ? (\n          <p>Loading...</p>\n        ) : theMessages.length === messages.length ? (\n          <p>Loaded all the messages! :)</p>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n","export default \"data:image/jpeg;base64,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\"","export default __webpack_public_path__ + \"static/media/placeholder.7ae2fa4d.jpeg\";","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport logo from \"../images/logo.jpg\";\nimport placeholder from \"../images/placeholder.jpeg\";\n\nimport { AppBar, Toolbar, CssBaseline, makeStyles } from \"@material-ui/core\";\nimport { useAuthState, logout, getProfilePic } from \"../util/firebase.config\";\nimport { Button } from \"@mui/material\";\nimport { getAuth } from \"firebase/auth\";\n\nconst useStyles = makeStyles((theme) => ({\n  logo: {\n    cursor: \"pointer\",\n    width: \"220px\",\n  },\n  link: {\n    textDecoration: \"none\",\n    color: \"#1153BF\",\n    fontSize: \"18px\",\n    fontWeight: \"bold\",\n    marginLeft: theme.spacing(5),\n    \"&:hover\": {\n      color: \"#1153BF\",\n      borderBottom: \"1px solid #1153BF\",\n    },\n  },\n  navlinks: {\n    alignItems: \"center\",\n    display: \"flex\",\n  },\n}));\n\nexport default function NavBar() {\n  const classes = useStyles();\n  const { isAuthenticated } = useAuthState();\n\n  const [url, setUrl] = useState(\"\");\n  const safeUrl = url || placeholder;\n  const { currentUser } = getAuth();\n\n  useEffect(() => {\n    if (currentUser !== null) {\n      getProfilePic()\n        .then((pic) => setUrl(pic))\n        .catch((error) => {\n          setUrl(\"\");\n        });\n    }\n  }, [currentUser]);\n\n  return (\n    <AppBar position=\"static\" color=\"inherit\">\n      <CssBaseline />\n      <Toolbar\n        style={{\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        <img src={logo} alt=\"Chat Express!\" className={classes.logo} />\n        <div className={classes.navlinks}>\n          <Link to=\"/\" className={classes.link}>\n            Home\n          </Link>\n          <Link to=\"/profile\" className={classes.link}>\n            {\n              <img\n                style={{ width: \"45px\", height: \"45px\", borderRadius: \"50%\" }}\n                src={safeUrl}\n                alt=\"profile\"\n              />\n            }\n          </Link>\n          {isAuthenticated ? (\n            <Button\n              variant=\"outlined\"\n              onClick={logout}\n              style={{ marginLeft: 30 }}\n            >\n              Logout\n            </Button>\n          ) : (\n            <>\n              <Link to=\"/login\" className={classes.link}>\n                Log in\n              </Link>\n              <Link to=\"/signup\" className={classes.link}>\n                Sign up\n              </Link>\n            </>\n          )}\n        </div>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import React from \"react\";\nimport Button from \"@mui/material/Button\";\nimport TextField from \"@mui/material/TextField\";\n\nimport {\n  getProfilePic,\n  uploadToFireBase,\n  updateUsername,\n  getCurrentUser,\n} from \"../util/firebase.config\";\n\nexport default function Profile() {\n  const [imageFile, setImagefile] = React.useState();\n  const [imageURL, setImageURL] = React.useState();\n  const [isUploading, setIsUploading] = React.useState(false);\n\n  const [userName, setUserName] = React.useState();\n  React.useEffect(() => {\n    async function effect() {\n      const currentUser = await getCurrentUser();\n      setUserName(currentUser.username);\n    }\n    effect();\n  }, []);\n\n  const handleSubmit = async () => {\n    if (!userName) return;\n    // Save Username\n    updateUsername(userName);\n  };\n\n  const handleImageFile = (e) => {\n    const image = e.target.files[0];\n    setImagefile(image);\n  };\n\n  const handleImageUpload = (e) => {\n    e.preventDefault();\n    setIsUploading(true);\n\n    if (!imageFile) return alert(\"Nothing to upload\");\n    function getImageURL(imgURL) {\n      setImageURL(imgURL);\n      setIsUploading(false);\n    }\n\n    uploadToFireBase(imageFile, getImageURL);\n  };\n\n  React.useEffect(() => {\n    getProfilePic().then((imgURL) => {\n      setImageURL(imgURL);\n      setIsUploading(false);\n    });\n  }, []);\n\n  return (\n    <div>\n      <h1>Profile Page</h1>\n      {imageURL && <img src={imageURL} alt=\"\" width=\"200\" />}\n\n      <h3>User Details</h3>\n\n      <div>\n        <TextField\n          required\n          id=\"outlined-required\"\n          label=\"User Name\"\n          defaultValue=\"Enter username here\"\n          value={userName}\n          onChange={(e) => setUserName(e.target.value)}\n        />\n      </div>\n      <Button onClick={handleSubmit}>Submit</Button>\n\n      <form>\n        <h3>Upload a Profile Picture </h3>\n\n        <input type=\"file\" onChange={handleImageFile} />\n        {isUploading ? (\n          <span>upload...</span>\n        ) : (\n          <Button variant=\"contained\" onClick={handleImageUpload}>\n            Upload\n          </Button>\n        )}\n      </form>\n    </div>\n  );\n}\n","import axios from \"axios\";\nimport { getFirestore, addDoc, collection } from \"@firebase/firestore\";\nconst BASE_URL =\n  \"https://micro-blogging-dot-full-stack-course-services.ew.r.appspot.com\";\n\nexport const getTweetsFromServer = async () => {\n  try {\n    const messages = await axios.get(`${BASE_URL}/tweet`);\n    return messages.data.tweets;\n  } catch (e) {\n    return [];\n  }\n};\n\nexport const addTweet = async (tweet) => {\n  const db = getFirestore();\n  try {\n    // const createdTweet = await axios.post(`${BASE_URL}/tweet`, tweet);\n    const docRef = await addDoc(collection(db, \"chatter\"), tweet);\n    return docRef;\n  } catch (e) {\n    alert(e);\n  }\n};\n","import { useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  TextField,\n  Grid,\n  Typography,\n  Button,\n  CircularProgress,\n} from \"@mui/material\";\nimport InfoContext from \"./InfoContext\";\nimport { signUpWithEmailAndPassword } from \"../util/firebase.config\";\n\nexport default function Signup() {\n  // Get context\n  const context = useContext(InfoContext);\n\n  // States for the data of the form\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n\n  // As the input is modified, change each state\n  const handleChange = ({ target }) => {\n    // Map every id with the setter for that state\n    const set = {\n      email: setEmail,\n      password: setPassword,\n      confirmPassword: setConfirmPassword,\n      username: setUsername,\n    };\n\n    // Call the setter for the specific input changed\n    set[target.id](target.value);\n  };\n\n  // Handle the submission of the form\n  const handleSubmit = async (event) => {\n    // Prevent default form submission\n    event.preventDefault();\n\n    // Validation\n    if (confirmPassword !== password) {\n      return alert(\"password not match\");\n    }\n\n    // If inputs are empty show an error and return\n    const inputs = { username, email, password, confirmPassword };\n    let empty = false;\n    for (let input in inputs) {\n      if (!inputs[input]) {\n        setErrors((prevErrors) => ({ ...prevErrors, [input]: \"Is required\" }));\n        empty = true;\n      }\n    }\n    if (empty) return;\n\n    // Set loader\n    setLoading(true);\n\n    // Register user\n    const isRegisteredSuccessful = await signUpWithEmailAndPassword({\n      username,\n      email,\n      password,\n    });\n\n    if (isRegisteredSuccessful) {\n      // display success msg\n\n      // reset the form\n      setEmail(\"\");\n      setPassword(\"\");\n      setConfirmPassword(\"\");\n      setUsername(\"\");\n    }\n\n    // remove loader\n    setLoading(false);\n  };\n\n  return (\n    <Grid container>\n      <Grid item sm />\n      <Grid item sm>\n        <Typography style={{ marginTop: \"15px\" }} variant=\"h2\">\n          Sign Up\n        </Typography>\n        <form noValidate onSubmit={handleSubmit}>\n          <TextField\n            style={{ marginTop: \"10px\" }}\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            label=\"Email\"\n            helperText={errors.email}\n            error={errors.email ? true : false}\n            value={email}\n            onChange={handleChange}\n            fullWidth\n          />\n          <TextField\n            style={{ marginTop: \"10px\" }}\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            label=\"Password\"\n            helperText={errors.password}\n            error={errors.password ? true : false}\n            value={password}\n            onChange={handleChange}\n            fullWidth\n          />\n          <TextField\n            style={{ marginTop: \"10px\" }}\n            id=\"confirmPassword\"\n            name=\"confirmPassword\"\n            type=\"password\"\n            label=\"Confirm Password\"\n            helperText={errors.confirmPassword}\n            error={errors.confirmPassword ? true : false}\n            value={confirmPassword}\n            onChange={handleChange}\n            fullWidth\n          />\n          <TextField\n            style={{ marginTop: \"10px\" }}\n            id=\"username\"\n            name=\"username\"\n            type=\"text\"\n            label=\"Username\"\n            helperText={errors.username}\n            error={errors.username ? true : false}\n            value={username}\n            onChange={handleChange}\n            fullWidth\n          />\n          {errors.general && (\n            <Typography variant=\"body2\">{errors.general}</Typography>\n          )}\n          <Button\n            style={{ marginTop: \"10px\" }}\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={loading}\n          >\n            SignUp\n            {loading && <CircularProgress size={30} />}\n          </Button>\n          <br />\n          <small>\n            Already have an account ? Login <Link to=\"/login\">here</Link>\n          </small>\n        </form>\n      </Grid>\n      <Grid item sm />\n    </Grid>\n  );\n}\n","import { useState, useContext, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport {\n  TextField,\n  Grid,\n  Typography,\n  Button,\n  CircularProgress,\n} from \"@mui/material\";\n\nimport {\n  auth,\n  loginWithEmailAndPassword,\n  loginWithGoogle,\n} from \"../util/firebase.config\";\n\nexport default function Login() {\n  const navigate = useNavigate();\n  const [user, setUser] = useState(null);\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n\n  // As the input is modified, change each state\n  const handleChange = ({ target }) => {\n    // Map every id with the setter for that state\n    const set = {\n      email: setEmail,\n      password: setPassword,\n    };\n\n    // Call the setter for the specific input changed\n    set[target.id](target.value);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    // If inputs are empty show an error and return\n    const inputs = { email, password };\n    let empty = false;\n    for (let input in inputs) {\n      if (!inputs[input]) {\n        setErrors((prevErrors) => ({ ...prevErrors, [input]: \"Is required\" }));\n        empty = true;\n      }\n    }\n    if (empty) return;\n\n    setLoading(true);\n\n    // Sign in user\n    const loggedUser = await loginWithEmailAndPassword(email, password);\n    if (loggedUser) setUser(loggedUser);\n\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    auth.onAuthStateChanged((currentUser) => {\n      if (currentUser) navigate(\"/\");\n    });\n  }, []);\n\n  return (\n    <Grid container>\n      <Grid item sm />\n      <Grid item sm>\n        <Typography style={{ marginTop: \"15px\" }} variant=\"h2\">\n          Login\n        </Typography>\n        <form noValidate onSubmit={handleSubmit}>\n          <TextField\n            style={{ marginTop: \"10px\" }}\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            label=\"email\"\n            helperText={errors.email}\n            error={errors.email ? true : false}\n            value={email}\n            onChange={handleChange}\n            fullWidth\n          />\n          <TextField\n            style={{ marginTop: \"10px\" }}\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            label=\"Password\"\n            helperText={errors.password}\n            error={errors.password ? true : false}\n            value={password}\n            onChange={handleChange}\n            fullWidth\n          />\n          {errors.general && (\n            <Typography variant=\"body2\">{errors.general}</Typography>\n          )}\n          <Button\n            style={{ marginTop: \"10px\" }}\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={loading}\n          >\n            Login\n            {loading && <CircularProgress size={30} />}\n          </Button>\n\n          <br />\n        </form>\n        <small>\n          dont have an account ? sign up <Link to=\"/signup\">here</Link>\n        </small>\n        <h3>OR</h3>\n        <Button\n          style={{ marginTop: \"10px\" }}\n          onClick={loginWithGoogle}\n          type=\"submit\"\n          variant=\"outlined\"\n          disabled={loading}\n        >\n          Sign In with Google\n          {loading && <CircularProgress size={30} />}\n        </Button>\n      </Grid>\n      <Grid item sm />\n    </Grid>\n  );\n}\n","import { useAuthState } from \"../util/firebase.config\";\nimport { Navigate, Outlet } from \"react-router-dom\";\n\nexport default function AuthenticatedRoute() {\n  const { isAuthenticated } = useAuthState();\n  if (!isAuthenticated) return <Navigate to=\"/login\" />;\n\n  return <Outlet />;\n}\n","import { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport Chatter from \"./components/Chatter\";\nimport Messages from \"./components/Messages\";\nimport NavBar from \"./components/NavBar\";\nimport Profile from \"./components/Profile\";\nimport { addTweet } from \"./util/server\";\nimport { useState, useEffect } from \"react\";\nimport InfoContext from \"./components/InfoContext\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport Signup from \"./components/Signup\";\nimport Login from \"./components/Login\";\nimport {\n  getFirestore,\n  collection,\n  onSnapshot,\n  orderBy,\n  query,\n} from \"firebase/firestore\";\nimport {\n  AuthContextProvider,\n  getAnotherProfilePic,\n} from \"./util/firebase.config\";\nimport placeholder from \"./images/placeholder.jpeg\";\nimport AuthenticatedRoute from \"./components/Authenticated\";\n\nfunction App() {\n  // Firestore db\n  const db = getFirestore();\n\n  // Adding process state and messages state\n  const [inAddingProcess, setInAddingProcess] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [isLoading, setIsloading] = useState(true);\n\n  // Effect to retrieve messages from db\n  useEffect(() => {\n    const q = query(collection(db, \"chatter\"), orderBy(\"date\", \"desc\"));\n    const unsub = onSnapshot(q, (querySnapshot) => {\n      setIsloading(true);\n      const res = [];\n      querySnapshot.forEach((doc) => res.push({ id: doc.id, ...doc.data() }));\n\n      Promise.all(\n        res.map((msg) => {\n          if (!msg.authorId) {\n            msg.authorAvatar = placeholder;\n            return;\n          }\n          return getAnotherProfilePic(msg.authorId)\n            .then((profileImageUrl) => {\n              msg.authorAvatar = profileImageUrl || placeholder;\n            })\n            .catch(console.error);\n        })\n      ).then(() => {\n        setMessages(res);\n\n        setIsloading(false);\n      });\n    });\n    return () => {\n      unsub();\n    };\n  }, []);\n\n  const addNewTweet = async (newTweet) => {\n    // Set adding as true at start and false at end\n    setInAddingProcess(true);\n\n    await addTweet(newTweet);\n\n    // No longer adding\n    setInAddingProcess(false);\n  };\n\n  return (\n    <div className=\"App\">\n      <AuthContextProvider>\n        <InfoContext.Provider\n          value={{\n            inAddingProcess,\n            messages,\n            addNewTweet,\n            signUpUser: () =>\n              new Promise((resolve) => setTimeout(resolve, 5000)),\n            logInUser: () =>\n              new Promise((resolve) => setTimeout(resolve, 5000)),\n          }}\n        >\n          <Router>\n            <NavBar />\n            <Routes>\n              <Route exact path=\"/\" element={<AuthenticatedRoute />}>\n                <Route\n                  exact\n                  path=\"/\"\n                  element={\n                    <>\n                      <Chatter />\n                      {/* if loading show loader, else the messages */}\n                      {(isLoading && <CircularProgress />) || <Messages />}\n                    </>\n                  }\n                />\n                {/* <Route exact path=\"/\" element={<AuthenticatedRoute />}></Route> */}\n                <Route exact path=\"/profile\" element={<Profile />} />\n              </Route>\n              <Route exact path=\"/login\" element={<Login />} />\n              <Route exact path=\"/signup\" element={<Signup />} />\n            </Routes>\n          </Router>\n        </InfoContext.Provider>\n      </AuthContextProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}